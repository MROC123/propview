<h1>New Property</h1>

<div class="container">
  <div class="row mb-3">
    <div class="custom-button">
      <%= link_to 'Add New Manager', new_manager_path, class: 'btn btn-primary' %>
    </div>
  </div>

  <%= simple_form_for @property, url: properties_path, method: :post, html: { class: 'form-horizontal' } do |f| %>
    <div class="row mb-3">
      <div class="col-md-6">
        <%= f.input :manager_id, collection: @managers, label_method: :name, value_method: :id, prompt: "Select a Manager", input_html: { id: 'manager-select' } %>
      </div>
      <div class="col-md-6">
        <%= f.input :name %>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <%= f.input :address %>
      </div>
      <div class="col-md-6">
        <%= f.input :property_type %>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <%= f.input :bedrooms %>
      </div>
      <div class="col-md-6">
        <%= f.input :bathrooms %>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-12">
        <%= f.input :photos, as: :file, input_html: { multiple: true } %>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-12">
        <%= f.submit "Submit New Property", class: "btn btn-success" %>
      </div>
    </div>
  <% end %>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var managerSelect = document.getElementById("manager-select");
    managerSelect.options[0].disabled = true;
  });
</script>
